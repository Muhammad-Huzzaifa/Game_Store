<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Authentication</title>
	{% load static %}
	<link rel="stylesheet" type="text/css" href="{% static 'styles/main_styles.css' %}">
	<link rel="stylesheet" href="{% static 'styles/auth.css' %}">
</head>

<body>
	<div class="loader-flex-fix">
		<div class="loader-wrapper">
			<div class="loader"></div>
		</div>
	</div>
	<section class="forms-section">
		<h1 class="section-title">PLEASE ENTER USERNAME AND PASSWORD FOR LOGIN</h1>
		<div class="forms">
			<div class="form-wrapper is-active">
				<button type="button" class="switcher switcher-login">
					Login
					<span class="underline"></span>
				</button>
				<form class="form form-login" method="POST" action="{% url 'store:auth' %}" id="loginForm">
					{% csrf_token %}
					<fieldset>
						<legend>Please enter your email/username and password for login.</legend>
						<div class="input-block">
							<label for="login-identifier">Email or Username</label>
							<input id="login-identifier" name="login_identifier" type="text" required>
						</div>
						<div class="input-block">
							<label for="login-password">Password</label>
							<input id="login-password" name="password" type="password" required>
						</div>
					</fieldset>
					<button type="submit" class="btn-login">Login</button>
				</form>
			</div>
			<div class="form-wrapper">
				<button type="button" class="switcher switcher-signup">
					Sign Up
					<span class="underline"></span>
				</button>
				<form class="form form-signup" method="POST" action="{% url 'store:auth' %}" id="signupForm">
					{% csrf_token %}
					<fieldset>
						<legend>Please enter your details for sign up.</legend>	
						<div class="input-block">
							<label for="signup-firstname">First Name</label>
							<input id="signup-firstname" name="first_name" type="text" required>
						</div>
						<div class="input-block">
							<label for="signup-lastname">Last Name</label>
							<input id="signup-lastname" name="last_name" type="text" required>
						</div>
						<div class="input-block">
							<label for="signup-username">Username</label>
							<input id="signup-username" name="username" type="text" required>
						</div>
						<div class="input-block">
							<label for="signup-email">Email</label>
							<input id="signup-email" name="email" type="email" required>
						</div>
						<div class="input-block">
							<label for="signup-password">Password</label>
							<input id="signup-password" name="password" type="password" required>
						</div>
						<div class="input-block">
							<label for="signup-confirm-password">Confirm Password</label>
							<input id="signup-confirm-password" name="confirm_password" type="password" required>
						</div>
					</fieldset>
					<button type="submit" class="btn-signup">Sign Up</button>
				</form>
			</div>
		</div>
	</section>

	<div id="error-popup" class="error-popup">
		<div class="error-content">
			<span class="error-message"></span>
		</div>
	</div>

	{% if messages %}
	<script>
		const messages = [
			{% for message in messages %}
				"{{ message }}",
			{% endfor %}
		];
	</script>
	{% endif %}

	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script type="text/javascript" src="{% static 'js/custom.js' %}"></script>

	<script src="{% static 'js/auth.js' %}"></script>
</body>

</html>